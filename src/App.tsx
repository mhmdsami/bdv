import LinePlot from "./components/line-plot";
import Button from "./components/button";
import { useState } from "react";

function App() {
  const dataset = [
    {
      country: "India",
      gdpGrowthRate: [
        3.72274253311053, 0, 2.93112773548363, 5.99435326188559,
        7.45295012250209, -2.63577011020728, -0.0553287704537979,
        7.82596303082235, 3.38792917634143, 6.53970029928357, 5.15722973718955,
        1.64293037527582, -0.553301305344547, 3.29552113471652,
        1.18533625466961, 9.14991201570659, 1.66310363813034, 7.25476458760367,
        5.71253208869331, -5.23818270446218, 6.7358215288198, 6.00620362601497,
        3.47573323969961, 7.28889290305703, 3.82073785610604, 5.25429922311382,
        4.77656416847516, 3.96535563481719, 9.62778291607844, 5.94734333181324,
        5.53345456125301, 1.05683143496063, 5.48239602040357, 4.75077621776924,
        6.65892407028434, 7.57449183788519, 7.54952224920051, 4.04982084998183,
        6.18441582172117, 8.84575555939531, 3.84099115659129, 4.82396626555771,
        3.80397532112175, 7.8603814759073, 7.92293661199932, 7.92343062148318,
        8.06073257166651, 7.6608150670107, 3.08669805921981, 7.86188883286074,
        8.49758470221235, 5.24131619938926, 5.45638755164701, 6.38610640092348,
        7.41022760516408, 7.99625378566586, 8.25630550178155, 6.79538341898569,
        6.4538513449766, 3.87143694070957, -5.77772470687434, 9.68959249191211,
        6.98703932576051, 7.58397112433558,
      ],
    },
    {
      country: "USA",
      gdpGrowthRate: [
        2.29999999999953, 0, 6.10000000000016, 4.39999999999989,
        5.80000000000027, 6.39999999999989, 6.50000000000026, 2.49999999999999,
        4.79999999999954, 3.09999999999999, 0.21660649819502, 3.29272245508689,
        5.25550195050253, 5.64567976588816, -0.540550186726477,
        -0.205619192613284, 5.38803389552226, 4.62418651704209,
        5.53520647829761, 3.16598822881279, -0.256775732470302,
        2.53770126730302, -1.80301378770601, 4.58379098591793, 7.23645315874113,
        4.1695753468006, 3.46265505318908, 3.45462966457823, 4.17698239778066,
        3.67223783573645, 1.8859655853434, -0.108312888962658, 3.52249718409405,
        2.75179586183873, 4.02902272904724, 2.68443073540719, 3.7727726858688,
        4.44712794186451, 4.48313334577439, 4.78842505322162, 4.07758575804293,
        0.955538346430316, 1.70044732363073, 2.795605965883, 3.84777169205226,
        3.483549937943, 2.78453963938148, 2.00385829825838, 0.113587248258867,
        -2.57650023426996, 2.6951925838264, 1.56440685438301, 2.28911338767897,
        2.11783009919846, 2.52381981441982, 2.94555045455233, 1.81945147474293,
        2.45762230356996, 2.96650507100425, 2.46703756313913, -2.21346933290643,
        5.8002061284573, 1.93549589483209, 2.54270029878489,
      ],
    },
    {
      country: "UK",
      gdpGrowthRate: [
        2.70131423677384, 0, 1.09869618406519, 4.8595452081219,
        5.59481102051606, 2.13033307758268, 1.56744977187846, 2.77573757283471,
        5.4726929922814, 1.93913781078675, 2.70858150473697, 3.50471743086136,
        4.32166758855182, 6.52384841665435, -2.48440389712059,
        -1.47364948643404, 2.91026610604752, 2.45775051743912, 4.20426053348004,
        3.74901659373039, -2.03136782004715, -0.787743889455356,
        1.99489133434545, 4.22185631279841, 2.26910517217947, 4.14741494974335,
        3.15034062959936, 5.39273826685228, 5.73241360174049, 2.57760282144477,
        0.733755495925308, -1.10312165827735, 0.401082030377012,
        2.48983101955622, 3.84600916108731, 2.53167004513035, 2.58202252914914,
        4.92492865169534, 3.41426987375397, 3.06617612499225, 4.31872705812104,
        2.5787410460365, 1.79198561607272, 3.14657252830963, 2.42649654912002,
        2.73884240379734, 2.38627536792974, 2.62033122218656,
        -0.225726974764584, -4.61495740242552, 2.23868863381415,
        1.14510154098662, 1.51293674929991, 1.79232221590813, 3.19578246561922,
        2.2202583222271, 1.9210634135702, 2.65506966811928, 1.40379208588568,
        1.64161099628876, -10.3599008187799, 8.67490411442573, 4.34522883436574,
        0.104017849159277,
      ],
    },
    {
      country: "UAE",
      gdpGrowthRate: [
        0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 36.6123778540724, 39.0796375879151,
        76.6201550372084, 14.4980412677801, 6.22740138880226, 16.5268565060144,
        21.4393301701994, -1.58960331991626, 20.9235730770155, 23.8747749104978,
        4.65917667406508, -6.71931618570775, -4.74582069996585,
        4.01695127959405, -3.59447651736832, -14.9581365645327,
        3.38198170900863, -2.61890770383259, 12.3378912822599, 18.3279855336406,
        0.860081947626696, 3.34494485849439, 1.26119094566637, 6.89614855343777,
        6.68788645972637, 5.79840406919965, 8.1903986491688, 0.291994342094142,
        2.90221363963286, 10.852704215378, 1.39908503706675, 2.43345681089617,
        8.80054081355328, 9.56643663767056, 4.85514119553352, 9.83731976923958,
        3.18439017324607, 3.19183627331816, -5.24292190385027, 1.60285004671354,
        6.21612181664371, 1.8244807850986, 5.05555965807969, 4.16569184064922,
        6.78677287656618, 5.56149075979933, 0.735068713941203, 1.31391388153578,
        1.10834813453296, -4.95705243303316, 4.35475529659919, 7.85041812278786,
        3.40385720609487,
      ],
    },
  ];

  const [country, setCountry] =
    useState<(typeof dataset)[number]["country"]>("India");

  return (
    <main className="flex gap-5 p-10">
      <LinePlot
        data={dataset.find((d) => d.country === country)?.gdpGrowthRate || []}
        title={`GDP Growth Rate of ${country} (1961-2023)`}
        xStart={1961}
        width={640}
        height={400}
        marginTop={40}
        marginLeft={40}
        marginBottom={40}
      />
      <div className="flex flex-col justify-between">
        <div className="flex gap-2">
          {dataset.map((d) => (
            <Button
              key={d.country}
              onClick={() => setCountry(d.country)}
              selected={country === d.country}
            >
              {d.country}
            </Button>
          ))}
        </div>
        <p className="mb-7">
          Data source:{" "}
          <a href="https://data.worldbank.org/indicator/NY.GDP.MKTP.KD.ZG" className="text-blue-500 underline hover:text-blue-700 underline-offset-2">
            World Bank
          </a>
        </p>
      </div>
    </main>
  );
}

export default App;
